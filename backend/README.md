# Auth API

REST API for user authentication and profile management in Micro-Bingo.

---

## Endpoints

### POST `/user/register`

**Request Body**
```json
{
  "email": "string",
  "username": "string",
  "password": "string"
}
```

**Response**
```json
{
  "userId": "string",
  "message": "User registered successfully."
}
```

---

### POST `/user/login`

**Request Body**
```json
{
  "email": "string",
  "password": "string"
}
```

**Response**
```json
{
  "userId": "string"
}
```

---

### GET `/user/get?userId=string`

**Response**
```json
{
  "userId": "string",
  "email": "string",
  "username": "string"
}
```

---

### PUT `/user/update`

**Request Body**
```json
{
  "userId": "string",
  "email": "string",     // optional
  "username": "string"   // optional
}
```

**Response**
```json
{
  "success": true,
  "message": "User updated successfully."
}
```

---

## Notes

- All endpoints use JSON for requests and responses.
- Make sure your database is running and the `users` table exists:

```sql
CREATE TABLE users (
  id VARCHAR(32) PRIMARY KEY,
  username VARCHAR(64) NOT NULL,
  email VARCHAR(128) NOT NULL UNIQUE,
  password VARCHAR(128) NOT NULL
);
```
# ByWho API

REST API for managing "by_who" (who paid/received) entities in Micro-Bingo.

---

## Endpoints

### POST `/bywho/add`

**Request Body**
```json
{
  "userId": "string",
  "name": "string",
  "description": "string"
}
```

**Response**
```json
{
  "byWhoId": "string"
}
```

---

### GET `/bywho/list?userId=string`

**Response**
```json
[
  {
    "byWhoId": "string",
    "name": "string",
    "description": "string"
  }
  // ...
]
```

---

### GET `/bywho/:byWhoId?userId=string`

**Response**
```json
{
  "byWhoId": "string",
  "name": "string",
  "description": "string"
}
```

---

### PUT `/bywho/:byWhoId?userId=string`

**Request Body**
```json
{
  "name": "string",         // optional
  "description": "string"   // optional
}
```

**Response**
```json
{
  "success": true
}
```

---

### DELETE `/bywho/:byWhoId?userId=string`

**Response**
```json
{
  "success": true
}
```

---

## Notes

- All endpoints require `userId` for authentication/authorization.
- The `description` field is optional.
- Make sure your database is running and the `by_who` table exists:

```sql
CREATE TABLE by_who (
  by_who_id VARCHAR(32) PRIMARY KEY,
  user_id VARCHAR(64) NOT NULL,
  name VARCHAR(64) NOT NULL,
  description VARCHAR(255)
);
```
# Category API

REST API for managing categories in Micro-Bingo.

---

## Endpoints

### POST `/category/add`

**Request Body**
```json
{
  "userId": "string",
  "name": "string",
  "description": "string"
}
```

**Response**
```json
{
  "categoryId": "string"
}
```

---

### GET `/category/list?userId=string`

**Response**
```json
[
  {
    "categoryId": "string",
    "name": "string",
    "description": "string"
  }
  // ...
]
```

---

### GET `/category/:categoryId?userId=string`

**Response**
```json
{
  "categoryId": "string",
  "name": "string",
  "description": "string"
}
```

---

### PUT `/category/:categoryId`

**Request Body**
```json
{
  "userId": "string",
  "name": "string",         // optional
  "description": "string"   // optional
}
```

**Response**
```json
{
  "success": true
}
```

---

### DELETE `/category/:categoryId?userId=string`

**Response**
```json
{
  "success": true
}
```

---

## Notes

- All endpoints require `userId` for authentication/authorization.
- The `description` field is optional.
- Make sure your database is running and the `categories` table exists:

```sql
CREATE TABLE categories (
  category_id VARCHAR(32) PRIMARY KEY,
  user_id VARCHAR(64) NOT NULL,
  name VARCHAR(64) NOT NULL,
  description VARCHAR(255)
);
```

# Entry API

REST API for managing financial entries in Micro-Bingo.

---

## Endpoints

### POST `/entry/add`

**Request Body**
```json
{
  "userId": "string",
  "transaction_type": "expense/income",
  "owe": true,
  "tid": "string",                // optional, autogenerated if not provided
  "date": "string (ISO date)",
  "reason": "string",
  "by_who": "string",             // who paid or who received
  "category": "string",
  "amount": 0.0,
  "oweList": [
    {
      "userid": "string",
      "owe_type": "string",
      "amount": 0.0
    }
    // ...
  ]
}
```

**Response**
```json
{
  "userId": "string"
}
```

---

### GET `/entry/list?userId=string&dateFrom=YYYY-MM-DD&dateTo=YYYY-MM-DD`

**Response**
```json
[
  {
    "tid": "string",
    "transaction_type": "string",
    "date": "string",
    "reason": "string",
    "by_who": "string",
    "category": "string",
    "amount": 0.0,
    "oweList": [
      {
        "userid": "string",
        "owe_type": "string",
        "amount": 0.0
      }
      // ...
    ]
  }
  // ...
]
```

---

### GET `/entry/:tid?userId=string`

**Response**
```json
{
  "tid": "string",
  "transaction_type": "string",
  "date": "string",
  "reason": "string",
  "by_who": "string",
  "category": "string",
  "amount": 0.0,
  "oweList": [
    {
      "userid": "string",
      "owe_type": "string",
      "amount": 0.0
    }
    // ...
  ]
}
```

---

### DELETE `/entry/:tid?userId=string`

**Response**
```json
{
  "success": true
}
```

---

## Notes

- All endpoints require `userId` for authentication/authorization.
- The `oweList` field is optional and can be empty.
- Make sure your database is running and the following tables exist:

```sql
CREATE TABLE entries (
  tid VARCHAR(32) PRIMARY KEY,
  user_id VARCHAR(64) NOT NULL,
  transaction_type VARCHAR(32) NOT NULL,
  owe BOOLEAN NOT NULL,
  date DATE NOT NULL,
  reason VARCHAR(255),
  by_who VARCHAR(64),
  category VARCHAR(64),
  amount DOUBLE NOT NULL
);

CREATE TABLE owe_list (
  id INT AUTO_INCREMENT PRIMARY KEY,
  tid VARCHAR(32) NOT NULL,
  userid VARCHAR(64) NOT NULL,
  owe_type VARCHAR(32) NOT NULL,
  amount DOUBLE NOT NULL,
  FOREIGN KEY (tid) REFERENCES entries(tid) ON DELETE CASCADE
);
```
